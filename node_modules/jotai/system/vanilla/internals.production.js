System.register([],(function(C){"use strict";return{execute:(function(){C({INTERNAL_addPendingPromiseToDependency:B,INTERNAL_buildStoreRev2:un,INTERNAL_getBuildingBlocksRev2:fn,INTERNAL_getMountedOrPendingDependents:O,INTERNAL_hasInitialValue:W,INTERNAL_initializeStoreHooksRev2:q,INTERNAL_isActuallyWritableAtom:b,INTERNAL_isAtomStateInitialized:P,INTERNAL_isPromiseLike:R,INTERNAL_returnAtomValue:I});function W(n){return"init"in n}function b(n){return!!n.write}function P(n){return"v"in n||"e"in n}function I(n){if("e"in n)throw n.e;return n.v}function R(n){return typeof(n==null?void 0:n.then)=="function"}function B(n,e,o){if(!o.p.has(n)){o.p.add(n);const t=()=>o.p.delete(n);e.then(t,t)}}function O(n,e,o){var t;const r=new Set;for(const l of((t=o.get(n))==null?void 0:t.t)||[])r.add(l);for(const l of e.p)r.add(l);return r}const H=()=>{const n=new Set,e=()=>n.forEach(o=>o());return e.add=o=>(n.add(o),()=>n.delete(o)),e},L=()=>{const n={},e=new WeakMap,o=t=>{var r,l;(r=e.get(n))==null||r.forEach(s=>s(t)),(l=e.get(t))==null||l.forEach(s=>s())};return o.add=(t,r)=>{const l=t||n;let s=e.get(l);return s||(s=new Set,e.set(l,s)),s.add(r),()=>{s.delete(r),s.size||e.delete(l)}},o};function q(n){return n.i||(n.i=L()),n.r||(n.r=L()),n.c||(n.c=L()),n.m||(n.m=L()),n.u||(n.u=L()),n.f||(n.f=H()),n}const F=(n,e,...o)=>e.read(...o),G=(n,e,...o)=>e.write(...o),J=(n,e)=>{var o;return(o=e.INTERNAL_onInit)==null?void 0:o.call(e,n)},K=(n,e,o)=>{var t;return(t=e.onMount)==null?void 0:t.call(e,o)},Q=(n,e)=>{var o;const t=p(n),r=t[0],l=t[6],s=t[9];let u=r.get(e);return u||(u={d:new Map,p:new Set,n:0},r.set(e,u),(o=l.i)==null||o.call(l,e),s==null||s(n,e)),u},U=n=>{const e=p(n),o=e[1],t=e[3],r=e[4],l=e[5],s=e[6],u=e[13],d=[],g=w=>{try{w()}catch(c){d.push(c)}};do{s.f&&g(s.f);const w=new Set,c=w.add.bind(w);t.forEach(f=>{var a;return(a=o.get(f))==null?void 0:a.l.forEach(c)}),t.clear(),l.forEach(c),l.clear(),r.forEach(c),r.clear(),w.forEach(g),t.size&&u(n)}while(t.size||l.size||r.size);if(d.length)throw new AggregateError(d)},X=n=>{const e=p(n),o=e[1],t=e[2],r=e[3],l=e[11],s=e[14],u=e[17],d=[],g=new WeakSet,w=new WeakSet,c=Array.from(r);for(;c.length;){const f=c[c.length-1],a=l(n,f);if(w.has(f)){c.pop();continue}if(g.has(f)){t.get(f)===a.n&&d.push([f,a]),w.add(f),c.pop();continue}g.add(f);for(const v of O(f,a,o))g.has(v)||c.push(v)}for(let f=d.length-1;f>=0;--f){const[a,v]=d[f];let y=!1;for(const S of v.d.keys())if(S!==a&&r.has(S)){y=!0;break}y&&(s(n,a),u(n,a)),t.delete(a)}},Y=(n,e)=>{var o,t;const r=p(n),l=r[1],s=r[2],u=r[3],d=r[6],g=r[7],w=r[11],c=r[12],f=r[13],a=r[14],v=r[16],y=r[17],S=r[20],E=r[26],i=w(n,e);if(P(i)){if(l.has(e)&&s.get(e)!==i.n)return i;let h=!1;for(const[N,k]of i.d)if(a(n,N).n!==k){h=!0;break}if(!h)return i}let A=!0;const z=new Set(i.d.keys()),T=new Map,M=()=>{for(const h of z)T.has(h)||i.d.delete(h)},m=()=>{if(l.has(e)){const h=!u.size;y(n,e),h&&(f(n),c(n))}},dn=h=>{var N;if(h===e){const x=w(n,h);if(!P(x))if(W(h))S(n,h,h.init);else throw new Error("no atom init");return I(x)}const k=a(n,h);try{return I(k)}finally{T.set(h,k.n),i.d.set(h,k.n),R(i.v)&&B(e,i.v,k),l.has(e)&&((N=l.get(h))==null||N.t.add(e)),A||m()}};let _,j;const hn={get signal(){return _||(_=new AbortController),_.signal},get setSelf(){return!j&&b(e)&&(j=(...h)=>{if(!A)try{return v(n,e,...h)}finally{f(n),c(n)}}),j}},V=i.n;try{const h=g(n,e,dn,hn);if(S(n,e,h),R(h)){E(n,h,()=>_==null?void 0:_.abort());const N=()=>{M(),m()};h.then(N,N)}else M();return(o=d.r)==null||o.call(d,e),i}catch(h){return delete i.v,i.e=h,++i.n,i}finally{A=!1,V!==i.n&&s.get(e)===V&&(s.set(e,i.n),u.add(e),(t=d.c)==null||t.call(d,e))}},Z=(n,e)=>{const o=p(n),t=o[1],r=o[2],l=o[11],s=[e];for(;s.length;){const u=s.pop(),d=l(n,u);for(const g of O(u,d,t)){const w=l(n,g);r.get(g)!==w.n&&(r.set(g,w.n),s.push(g))}}},$=(n,e,...o)=>{const t=p(n),r=t[3],l=t[6],s=t[8],u=t[11],d=t[12],g=t[13],w=t[14],c=t[15],f=t[16],a=t[17],v=t[20];let y=!0;const S=i=>I(w(n,i)),E=(i,...A)=>{var z;const T=u(n,i);try{if(i===e){if(!W(i))throw new Error("atom not writable");const M=T.n,m=A[0];v(n,i,m),a(n,i),M!==T.n&&(r.add(i),c(n,i),(z=l.c)==null||z.call(l,i));return}else return f(n,i,...A)}finally{y||(g(n),d(n))}};try{return s(n,e,S,E,...o)}finally{y=!1}},nn=(n,e)=>{var o;const t=p(n),r=t[1],l=t[3],s=t[6],u=t[11],d=t[15],g=t[18],w=t[19],c=u(n,e),f=r.get(e);if(f){for(const[a,v]of c.d)if(!f.d.has(a)){const y=u(n,a);g(n,a).t.add(e),f.d.add(a),v!==y.n&&(l.add(a),d(n,a),(o=s.c)==null||o.call(s,a))}for(const a of f.d)if(!c.d.has(a)){f.d.delete(a);const v=w(n,a);v==null||v.t.delete(e)}}},en=(n,e)=>{var o;const t=p(n),r=t[1],l=t[4],s=t[6],u=t[10],d=t[11],g=t[12],w=t[13],c=t[14],f=t[16],a=t[18],v=d(n,e);let y=r.get(e);if(!y){c(n,e);for(const S of v.d.keys())a(n,S).t.add(e);if(y={l:new Set,d:new Set(v.d.keys()),t:new Set},r.set(e,y),b(e)){const S=()=>{let E=!0;const i=(...A)=>{try{return f(n,e,...A)}finally{E||(w(n),g(n))}};try{const A=u(n,e,i);A&&(y.u=()=>{E=!0;try{A()}finally{E=!1}})}finally{E=!1}};l.add(S)}(o=s.m)==null||o.call(s,e)}return y},tn=(n,e)=>{var o,t;const r=p(n),l=r[1],s=r[5],u=r[6],d=r[11],g=r[19],w=d(n,e);let c=l.get(e);if(!c||c.l.size)return c;let f=!1;for(const a of c.t)if((o=l.get(a))!=null&&o.d.has(e)){f=!0;break}if(!f){c.u&&s.add(c.u),c=void 0,l.delete(e);for(const a of w.d.keys()){const v=g(n,a);v==null||v.t.delete(e)}(t=u.u)==null||t.call(u,e);return}return c},rn=(n,e,o)=>{const t=p(n),r=t[11],l=t[27],s=r(n,e),u="v"in s,d=s.v;if(R(o))for(const g of s.d.keys())B(e,o,r(n,g));s.v=o,delete s.e,(!u||!Object.is(d,s.v))&&(++s.n,R(d)&&l(n,d))},on=(n,e)=>{const o=p(n)[14];return I(o(n,e))},ln=(n,e,...o)=>{const t=p(n),r=t[12],l=t[13],s=t[16];try{return s(n,e,...o)}finally{l(n),r(n)}},sn=(n,e,o)=>{const t=p(n),r=t[12],l=t[18],s=t[19],u=l(n,e).l;return u.add(o),r(n),()=>{u.delete(o),s(n,e),r(n)}},an=(n,e,o)=>{const t=p(n)[25];let r=t.get(e);if(!r){r=new Set,t.set(e,r);const l=()=>t.delete(e);e.then(l,l)}r.add(o)},cn=(n,e)=>{const o=p(n)[25].get(e);o==null||o.forEach(t=>t())},D=new WeakMap,p=n=>D.get(n);function fn(n){const e=p(n),o=e[24];return o?o(e):e}function un(...n){const e={get(t){const r=p(e)[21];return r(e,t)},set(t,...r){const l=p(e)[22];return l(e,t,...r)},sub(t,r){const l=p(e)[23];return l(e,t,r)}},o=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},F,G,J,K,Q,U,X,Y,Z,$,nn,en,tn,rn,on,ln,sn,void 0,new WeakMap,an,cn].map((t,r)=>n[r]||t);return D.set(e,Object.freeze(o)),e}})}}));
